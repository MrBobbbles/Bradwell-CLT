{% include 'layouts/admin_header.html' %}
<h1>Admin View</h1>

<h2>Add a New Person</h2>

<form action="{{ url_for('admin.add_person') }}" method="POST" enctype="multipart/form-data" style="max-width: 700px; margin: 0 auto;">
  <div style="margin-bottom: 1rem;">
    <label for="name">Name:</label><br>
    <input type="text" name="name" id="name" required class="form-control" style="width: 100%; padding: 0.5rem;" />
  </div>

  <div style="margin-bottom: 1rem;">
    <label for="name">Role:</label><br>
    <input type="text" name="role" id="role" required class="form-control" style="width: 100%; padding: 0.5rem;" />
  </div>

  <div style="margin-bottom: 1rem;">
    <label for="image">Upload Image:</label><br>
    <input type="file" name="image" id="image" class="form-control" />
  </div>

  <h3>Information Blocks</h3>
  <div id="info-container">
    <div class="info" data-index="0" style="margin-bottom: 1rem;">
      <label for="infos[0]">Info:</label>
      <input type="text" name="infos[0]" class="form-control" style="width: 100%; padding: 0.5rem;" />
    </div>
  </div>

  <button type="button" onclick="addInfo()" class="btn btn-secondary">Add Info</button>
  <button type="submit" class="btn btn-primary">Add Person</button>
</form>

<script>
let infoIndex = 1;

function addInfo() {
  const container = document.getElementById('info-container');
  const div = document.createElement('div');
  div.classList.add('info');
  div.setAttribute('data-index', infoIndex);

  div.innerHTML = `
    <label for="infos[${infoIndex}]">Info:</label>
    <input type="text" name="infos[${infoIndex}]" class="form-control" style="width: 100%; padding: 0.5rem; margin-bottom: 10px;" />
  `;

  container.appendChild(div);
  infoIndex++;
}
</script>

{% include 'layouts/admin_footer.html' %}
